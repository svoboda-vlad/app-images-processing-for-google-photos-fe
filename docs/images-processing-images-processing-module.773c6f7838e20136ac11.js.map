{"version":3,"sources":["./node_modules/dayjs/plugin/customParseFormat.js","./src/app/user-info/user-info.component.ts","./src/app/images-processing/images-processing.component.html","./src/app/images-processing/images-processing.component.ts","./src/app/images-processing/images-processing-routing.module.ts","./src/app/images-processing/images-processing.component.scss","./node_modules/dayjs/dayjs.min.js","./src/app/images-processing/album.service.ts","./src/app/shared/date-util.service.ts","./src/app/images-processing/media-item.service.ts","./src/app/user-info/user-info.component.html","./src/app/user-info/user-info.component.scss","./src/app/images-processing/images-processing.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,eAAe,KAAoD,oBAAoB,SAAwI,CAAC,kBAAkB,aAAa,OAAO,wHAAwH,6EAA6E,IAAI,uDAAuD,eAAe,8BAA8B,kBAAkB,mBAAmB,YAAY,sCAAsC,yBAAyB,sBAAsB,eAAe,oBAAoB,mDAAmD,+BAA+B,IAAI,gBAAgB,WAAW,wCAAwC,iBAAiB,mBAAmB,MAAM,YAAY,MAAM,gCAAgC,OAAO,OAAO,yBAAyB,SAAS,IAAI,iBAAiB,uBAAuB,mBAAmB,uBAAuB,sBAAsB,yBAAyB,oBAAoB,wBAAwB,WAAW,EAAE,cAAc,qBAAqB,uMAAuM,iCAAiC,+BAA+B,MAAM,iDAAiD,wDAAwD,0DAA0D,qBAAqB,iBAAiB,uBAAuB,mBAAmB,sBAAsB,+BAA+B,uBAAuB,mBAAmB,6CAA6C,eAAe,YAAY,EAAE,uBAAuB,cAAc,QAAQ,mBAAmB,4CAA4C,IAAI,GAAG,IAAI,qBAAqB,yBAAyB,qFAAqF,qBAAqB,GAAG,4BAA4B,IAAI,MAAM,sCAAsC,QAAQ,iBAAiB,0BAA0B,mBAAmB,YAAY,SAAS,IAAI,MAAM,WAAW,kCAAkC,KAAK,sDAAsD,+BAA+B,mBAAmB,kBAAkB,eAAe,cAAc,8DAA8D,OAAO,uBAAuB,yEAAyE,4BAA4B,oBAAoB,8BAA8B,UAAU,WAAW,uBAAuB,0CAA0C,wEAAwE,IAAI,8DAA8D,mKAAmK,gCAAgC,gCAAgC,uHAAuH,SAAS,qBAAqB,6GAA6G,kDAAkD,KAAK,MAAM,YAAY,sBAAsB,gBAAgB,sCAAsC,MAAM,8BAA8B,sBAAsB,G;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA5mH;AACT;AACK;AACF;AACU;AACQ;AACL;IAO5C,iBAAiB,SAAjB,iBAAiB;IAK5B,YAAoB,MAAc,EACxB,WAAwB,EACxB,YAA0B,EAC1B,eAAgC;QAHtB,WAAM,GAAN,MAAM,CAAQ;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,oBAAe,GAAf,eAAe,CAAiB;QAN1C,iBAAY,GAA4B,IAAI,CAAC;IAMC,CAAC;IAE/C,QAAQ;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;aAClD,IAAI,CACH,iEAAU,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;YAC3B,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,oCAAoC;YACpC,OAAO,uDAAU,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IAED,oBAAoB,CAAC,YAAkB;QACrC,OAAO,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,YAAY,CAAC,CAAC;IACrE,CAAC;CAEF;;YAvCQ,sDAAM;YAKA,8DAAW;YAFjB,iEAAY;YACZ,yEAAe;;AAQX,iBAAiB;IAL7B,+DAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,sFAAyC;;KAE1C,CAAC;GACW,iBAAiB,CA2B7B;AA3B6B;;;;;;;;;;;;;ACb9B;AAAe,oJAAqF,qLAAqL,oCAAoC,4vFAA4vF,qBAAqB,MAAM,cAAc,uGAAuG,qBAAqB,6BAA6B,eAAe,GAAG,gBAAgB,gPAAgP,wBAAwB,aAAa,2BAA2B,ulBAAulB,cAAc,0pCAA0pC,cAAc,qBAAqB,sCAAsC,qBAAqB,4BAA4B,sEAAsE,wBAAwB,qBAAqB,sBAAsB,u8BAAu8B,0DAA0D,SAAS,kHAAkH,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3sN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAM,oBAAoB,GAAG,IAA7B;AACA,MAAM,kBAAkB,GAAG,IAA3B;AACA,MAAM,mBAAmB,GAAG,IAA5B;AACP,6CAAa,4DAAb;IAOa,yBAAyB,SAAzB,yBAAyB;AA8CpC,cAAoB,cAApB,EACU,EADV,EAEU,gBAFV,EAGU,YAHV,EAIU,kBAJV,EAKU,iBALV,EAMU,eANV,EAM0C;AANtB;AACV;AACA;AACA;AACA;AACA;AACA;AAlDV,sBAA0B,EAA1B;AACA,iCAAgD,EAAhD;AACA,4BAAsC,EAAtC;AACA,yBAAwB,CAAxB;AACA,uBAAsB,EAAtB;AACA,0BAAiB,KAAK,EAAL,CAAQ,KAAR,CAAc;AAC7B,gBAAU,EAAE;AADiB,KAAd,CAAjB;AAGA,uBAAuB,KAAvB;AACA,sBAAqB,CAArB;AACA,yBAAyB,KAAzB;AACA,2BAAmC,eAAe,CAAC,IAAnD;AAEA,uBAA6C;AAC3C,iBAAW,EAAE;AACX,4BAAoB,EAAE;AADX,OAD8B;AAI3C,iBAAW,EAAE;AACX,uBAAe,EAAE;AADN;AAJ8B,KAA7C;AAQA,sBAAa,KAAK,EAAL,CAAQ,KAAR,CAAc;AACzB,mBAAa,EAAE,CAAC,IAAD,EAAO,CACpB,yDAAU,CAAC,QADS,EAEpB,yDAAU,CAAC,GAAX,CAAe,EAAf,CAFoB,EAGpB,yDAAU,CAAC,GAAX,CAAe,KAAf,CAHoB,CAAP,CADU;AAMzB,iBAAW,EAAE,CAAC,IAAD,EAAO,CAClB,yDAAU,CAAC,QADO,EAElB,yDAAU,CAAC,GAAX,CAAe,CAAf,CAFkB,EAGlB,yDAAU,CAAC,GAAX,CAAe,KAAf,CAHkB,CAAP,CANY;AAWzB,kBAAY,EAAE,CAAC,IAAD,EAAO,CACnB,yDAAU,CAAC,QADQ,EAEnB,yDAAU,CAAC,GAAX,CAAe,CAAf,CAFmB,EAGnB,yDAAU,CAAC,GAAX,CAAe,KAAf,CAHmB,CAAP;AAXW,KAAd,CAAb;AAiBA,uBAAsB,CAAtB;AACA,wBAAuB,CAAvB;AACA,0BAA0B,IAA1B;AAWO;;AAEP,UAAQ;AACN,SAAK,WAAL,GAAmB,KAAK,iBAAL,CAAuB,aAAvB,GAAuC,IAAvC,CACjB,2DAAG,CAAC,UAAU,IAAG;AACf,WAAK,UAAL,CAAgB,UAAhB,CAA2B;AACzB,qBAAa,EAAE,UAAU,CAAC,aADD;AAEzB,mBAAW,EAAE,UAAU,CAAC,WAFC;AAGzB,oBAAY,EAAE,UAAU,CAAC;AAHA,OAA3B;AAKA,aAAO,UAAP;AACD,KAPE,CADc,EASjB,kEAAU,CAAC,GAAG,IAAG;AACf,WAAK,KAAL,GAAa,GAAb;AACA,aAAO,wDAAU,CAAC,GAAD,CAAjB;AACD,KAHS,CATO,CAAnB;AAcD;;AAED,cAAY,CAAC,KAAD,EAAW;AACrB,QAAI,KAAK,CAAC,MAAN,GAAe,CAAnB,EAAsB;AACpB,WAAK,UAAL,GAAkB,KAAK,CAAC,MAAxB;AACA,WAAK,WAAL;AACA,WAAK,eAAL;AACA,WAAK,aAAL,CAAmB,KAAnB;AACD;AACF;;AAEO,aAAW;AACjB,SAAK,UAAL,GAAkB,EAAlB;AACA,SAAK,qBAAL,GAA6B,EAA7B;AACA,SAAK,gBAAL,GAAwB,EAAxB;AACA,SAAK,WAAL,GAAmB,KAAnB;AACA,SAAK,aAAL,GAAqB,KAArB;AACA,SAAK,eAAL,GAAuB,eAAe,CAAC,IAAvC;AACA,SAAK,cAAL,GAAsB,KAAtB;AACD;;AAED,eAAa,CAAC,QAAD,EAAiB;AAC5B,SAAK,cAAL,CAAoB,YAApB,CAAiC,QAAjC,EAA2C,KAAK,WAAhD,EAA6D,KAAK,YAAlE,EAAgF,KAAK,WAArF,EAAkG,SAAlG,CAA6G,IAAD,IAAS;AACnH,WAAK,aAAL,CAAmB,IAAnB;AACD,KAFD,EAEI,GAAD,IAA+B;AAChC,YAAM,GAAG,CAAC,GAAV;AACD,KAJD,EAIG,MAAK;AACN,WAAK,WAAL,GAAmB,IAAnB;AACD,KAND;AAOD;;AAED,eAAa,CAAC,IAAD,EAAW;AACtB,QAAI,WAAW,GAAe,IAAI,UAAJ,EAA9B;AACA,eAAW,CAAC,gBAAZ,CAA6B,MAA7B,EAAsC,KAAD,IAAe;AAClD,WAAK,WAAL,CAAiB,WAAjB,EAA8B,IAA9B;AACD,KAFD,EAEG,KAFH;AAGA,eAAW,CAAC,iBAAZ,CAA8B,IAA9B;AACD;;AAED,aAAW,CAAC,WAAD,EAA0B,IAA1B,EAAoC;AAC7C,QAAI,SAAS,GAAe,IAAI,UAAJ,EAA5B;AACA,aAAS,CAAC,gBAAV,CAA2B,MAA3B,EAAoC,KAAD,IAAe;AAChD,WAAK,eAAL,CAAqB,IAArB,EAA2B,WAA3B,EAAwC,SAAxC;AACD,KAFD,EAEG,KAFH;AAGA,aAAS,CAAC,aAAV,CAAwB,IAAxB;AACD;;AAED,iBAAe,CAAC,IAAD,EAAa,WAAb,EAAsC,SAAtC,EAA2D;AACxE,SAAK,UAAL,CAAgB,IAAhB,CAAqB,IAAI,6DAAJ,CAAc,IAAI,CAAC,IAAnB,EAAyB,kCAAK,CAAC,IAAI,CAAC,IAAL,CAAU,OAAV,CAAkB,IAAlB,EAAwB,EAAxB,CAAD,EAA8B,iBAA9B,CAA9B,EAAgF,WAAW,CAAC,MAA5F,EAAqG,SAAS,CAAC,MAA/G,CAArB;AACD;;AAED,cAAY;AACV,SAAK,2BAAL;AACA,SAAK,2BAAL;AACA,SAAK,iBAAL;AACA,SAAK,kBAAL;AACA,SAAK,cAAL;AACA,SAAK,aAAL,GAAqB,IAArB;AACD;;AAED,6BAA2B;AACzB,SAAK,UAAL,CAAgB,IAAhB,CAAqB,CAAC,CAAD,EAAI,CAAJ,KAAS;AAC5B,UAAI,SAAS,GAAG,CAAC,CAAC,QAAlB;AACA,UAAI,SAAS,GAAG,CAAC,CAAC,QAAlB;;AACA,UAAI,SAAS,GAAG,SAAhB,EAA2B;AACzB,eAAO,CAAC,CAAR;AACD;;AACD,UAAI,SAAS,GAAG,SAAhB,EAA2B;AACzB,eAAO,CAAP;AACD,OAR2B,CAU5B;;;AACA,aAAO,CAAP;AACD,KAZD;AAaA,SAAK,UAAL,CAAgB,OAAhB,CAAwB,CAAC,IAAD,EAAO,CAAP,KAAY;AAClC,WAAK,qBAAL,CAA2B,IAA3B,CAAgC,IAAI,wEAAJ,CAAyB,IAAzB,EAA+B,CAAC,GAAG,CAAnC,EAAsC,CAAtC,CAAhC;AACD,KAFD;AAGD;;AAED,mBAAiB;AACf,SAAK,qBAAL,CAA2B,OAA3B,CAAoC,IAAD,IAAS;AAC1C,UAAI,IAAI,CAAC,KAAL,KAAe,CAAnB,EAAsB;AACpB,YAAI,CAAC,QAAL,GAAgB,CAAhB;AACD,OAFD,MAEO;AACL,cAAM,QAAQ,GAAG,KAAK,qBAAL,CAA2B,IAA3B,CAAiC,CAAD,IAAO,CAAC,CAAC,KAAF,KAAa,IAAI,CAAC,KAAL,GAAa,CAAjE,CAAjB;AACA,YAAI,CAAC,QAAL,GAAgB,IAAI,CAAC,SAAL,CAAe,QAAf,CAAwB,IAAxB,CAA6B,QAAS,CAAC,SAAV,CAAoB,QAAjD,EAA2D,QAA3D,CAAhB;AACD;AACF,KAPD;AAQD;;AAED,gBAAc;AACZ,QAAI,KAAJ;AACA,QAAI,EAAE,GAAG,CAAT;AACA,SAAK,qBAAL,CAA2B,OAA3B,CAAmC,CAAC,IAAD,EAAO,CAAP,KAAY;AAC7C,UAAI,SAAS,GAAW,IAAI,CAAC,SAAL,CAAe,QAAf,CAAwB,MAAxB,CAA+B,YAA/B,IAA+C,IAA/C,GAAsD,IAAI,CAAC,SAAL,CAAe,QAAf,CAAwB,MAAxB,CAA+B,MAA/B,CAAtD,GAA+F,WAAvH;AACA,eAAS,GAAG,KAAK,4BAAL,CAAkC,SAAlC,CAAZ,CAF6C,CAG7C;;AACA,UAAI,CAAC,KAAK,CAAV,EAAa;AACX,aAAK,GAAG,IAAI,mEAAJ,CAAoB,EAApB,EAAwB,IAAI,CAAC,SAAL,CAAe,QAAvC,EAAiD,IAAI,CAAC,SAAL,CAAe,QAAhE,EAA0E,CAAC,IAAD,CAA1E,EAAkF,SAAlF,CAAR;AACA,UAAE,GAFS,CAGX;AACD,OAJD,MAIO;AACL;AACA,YAAI,IAAI,CAAC,QAAL,GAAgB,KAAK,aAAzB,EAAwC;AACtC,eAAK,gBAAL,CAAsB,IAAtB,CAA2B,KAA3B;AACA,eAAK,GAAG,IAAI,mEAAJ,CAAoB,EAApB,EAAwB,IAAI,CAAC,SAAL,CAAe,QAAvC,EAAiD,IAAI,CAAC,SAAL,CAAe,QAAhE,EAA0E,CAAC,IAAD,CAA1E,EAAkF,SAAlF,CAAR;AACA,YAAE,GAHoC,CAItC;AACD,SALD,MAKO;AACL,eAAK,CAAC,qBAAN,CAA4B,IAA5B,CAAiC,IAAjC;AACA,eAAK,CAAC,OAAN,GAAgB,IAAI,CAAC,SAAL,CAAe,QAA/B;AACD;AACF,OAnB4C,CAoB7C;;;AACA,UAAK,CAAC,GAAG,CAAL,KAAY,KAAK,qBAAL,CAA2B,MAA3C,EAAmD;AACjD,aAAK,gBAAL,CAAsB,IAAtB,CAA2B,KAA3B;AACD;AACF,KAxBD;AAyBD;;AAED,oBAAkB;AAChB,QAAI,gBAAgB,GAAG,CAAvB;AACA,SAAK,gBAAL,CAAsB,OAAtB,CAA+B,KAAD,IAAU;AACtC,sBAAgB,IAAI,KAAK,CAAC,qBAAN,CAA4B,MAAhD;AACD,KAFD;AAGA,WAAO,gBAAP;AACD;;AAED,sBAAoB,CAAC,SAAD,EAAuB;AACzC,WAAO,KAAK,eAAL,CAAqB,yBAArB,CAA+C,SAA/C,CAAP;AACD;;AAED,iBAAe,CAAC,EAAD,EAAsB,OAAtB,EAAqC;AAClD,SAAK,gBAAL,CAAsB,OAAtB,CAA+B,KAAD,IAAU;AACtC,UAAI,KAAK,CAAC,EAAN,KAAa,EAAE,CAAC,EAApB,EAAwB;AACtB,aAAK,CAAC,IAAN,GAAa,OAAb;AACD;AACF,KAJD;AAKD;;AAEO,8BAA4B,CAAC,IAAD,EAAa;AAC/C,WAAO,IAAI,CAAC,OAAL,CAAa,IAAb,EAAmB,OAAnB,EACJ,OADI,CACI,IADJ,EACU,OADV,EAEJ,OAFI,CAEI,IAFJ,EAEU,OAFV,EAGJ,OAHI,CAGI,IAHJ,EAGU,OAHV,EAIJ,OAJI,CAII,IAJJ,EAIU,OAJV,EAKJ,OALI,CAKI,IALJ,EAKU,OALV,EAMJ,OANI,CAMI,IANJ,EAMU,OANV,CAAP;AAOD,GA1NmC,CA4NpC;AACA;;;AACM,sBAAN,GAA0B;AAAA;;AAAA;AACxB,WAAI,CAAC,eAAL,GAAuB,eAAe,CAAC,UAAvC;;AACA,WAAK,MAAM,KAAX,IAAoB,KAAI,CAAC,gBAAzB,EAA2C;AACzC,YAAI,KAAK,CAAC,OAAN,IAAiB,IAArB,EAA2B;AACzB,gBAAM,KAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,KAAzB,EAAgC,KAAI,CAAC,kBAAL,CAAwB,cAAxB,EAAhC,EAA2E,SAA3E,GAAuF,IAAvF;AAAA,wMAA4F,WAAO,KAAP,EAAgB;AAChH,mBAAK,CAAC,OAAN,GAAgB,KAAK,CAAC,EAAtB;AACA,oBAAM,KAAI,CAAC,WAAL,CAAiB,KAAjB,CAAN;AACD,aAHK;;AAAA;AAAA;AAAA;AAAA,eAIH,KAJG,CAIG,MAAM,KAAI,CAAC,eAAL,GAAuB,eAAe,CAAC,IAJhD,CAAN;AAKD,SAND,MAMO;AACL,gBAAM,KAAI,CAAC,WAAL,CAAiB,KAAjB,CAAN;AACD,SATwC,CAUzC;;;AACA,YAAI,KAAI,CAAC,eAAL,IAAwB,eAAe,CAAC,UAA5C,EAAwD;AACzD;;AACD,WAAI,CAAC,eAAL,GAAwB,KAAI,CAAC,kBAAL,MAA6B,KAAI,CAAC,gBAAL,EAA9B,GAAyD,eAAe,CAAC,OAAzE,GAAmF,eAAe,CAAC,IAA1H;AAfwB;AAgBzB;;AAEK,aAAN,CAAkB,KAAlB,EAAwC;AAAA;;AAAA;AACtC,WAAK,MAAM,IAAX,IAAmB,KAAK,CAAC,qBAAzB,EAAgD;AAC9C,YAAI,CAAC,IAAI,CAAC,SAAL,CAAe,aAApB,EAAmC;AACjC,gBAAM,MAAI,CAAC,gBAAL,CAAsB,OAAtB,CAA8B,IAAI,CAAC,SAAnC,EAA8C,MAAI,CAAC,kBAAL,CAAwB,cAAxB,EAA9C,EAAyF,SAAzF,GAAqG,IAArG;AAAA,yMAA0G,WAAO,WAAP,EAA8B;AAC5I,oBAAM,MAAI,CAAC,gBAAL,CAAsB,WAAtB,CAAkC,IAAI,CAAC,SAAvC,EAAkD,WAAlD,EAA+D,MAAI,CAAC,kBAAL,CAAwB,cAAxB,EAA/D,EAA0G,KAAK,CAAC,OAAhH,EAAyH,SAAzH,GAAqI,IAArI,CAA0I,MAAM,IAAI,CAAC,SAAL,CAAe,aAAf,GAA+B,IAA/K,EACH,KADG,CACG,MAAM,MAAI,CAAC,eAAL,GAAuB,eAAe,CAAC,IADhD,CAAN;AAED,aAHK;;AAAA;AAAA;AAAA;AAAA,eAIH,KAJG,CAIG,MAAM,MAAI,CAAC,eAAL,GAAuB,eAAe,CAAC,IAJhD,CAAN;AAKD;AACF;AATqC;AAUvC;;AAED,aAAW,CAAC,EAAD,EAAoB;AAC7B,SAAK,gBAAL,CAAsB,MAAtB,CAA6B,KAAK,gBAAL,CAAsB,OAAtB,CAA8B,EAA9B,CAA7B,EAAgE,CAAhE;AACD;;AAED,kBAAgB;AACd,QAAI,aAAa,GAAG,CAApB;AACA,SAAK,gBAAL,CAAsB,OAAtB,CAA+B,KAAD,IAAU;AACtC,mBAAa,IAAI,KAAK,CAAC,gBAAN,EAAjB;AACD,KAFD;AAGA,WAAO,aAAP;AACD;;AAED,oBAAkB;AAChB,SAAK,aAAL,GAAqB,KAAK,UAAL,CAAgB,GAAhB,CAAoB,CAAC,eAAD,CAApB,EAAwC,KAA7D;AACD;;AAED,iBAAe;AACb,SAAK,WAAL,GAAmB,KAAK,UAAL,CAAgB,GAAhB,CAAoB,CAAC,aAAD,CAApB,EAAsC,KAAzD;AACA,SAAK,YAAL,GAAoB,KAAK,UAAL,CAAgB,GAAhB,CAAoB,CAAC,cAAD,CAApB,EAAuC,KAA3D;AACD;;AAEO,6BAA2B;AACjC,SAAK,qBAAL,GAA6B,EAA7B;AACA,SAAK,gBAAL,GAAwB,EAAxB;AACA,SAAK,aAAL,GAAqB,KAArB;AACA,SAAK,eAAL,GAAuB,eAAe,CAAC,IAAvC;AACD;;AAED,qBAAmB,CAAC,EAAD,EAAsB,IAAtB,EAAgD;AACjE,SAAK,gBAAL,CAAsB,OAAtB,CAA+B,KAAD,IAAU;AACtC,UAAI,KAAK,CAAC,EAAN,KAAa,EAAE,CAAC,EAApB,EAAwB;AACtB,aAAK,CAAC,qBAAN,CAA4B,MAA5B,CAAmC,KAAK,CAAC,qBAAN,CAA4B,OAA5B,CAAoC,IAApC,CAAnC,EAA8E,CAA9E;AACD;AACF,KAJD;AAKD;;AAED,sBAAoB;AAClB,SAAK,cAAL,GAAsB,KAAK,cAAL,GAAsB,KAA5C,GAAoD,KAAK,cAAL,GAAsB,IAA1E;AACD;;AAlSmC,C;;;QArByB,uEAAc;;QADpE,0DAAW;;QAGsB,oEAAgB;;QADjD,2DAAY;;QAIZ,sFAAkB;;QAEN,iFAAiB;;QAE7B,0EAAe;;;AAYX,yBAAyB,6DALrC,+DAAS,CAAC;AACT,UAAQ,EAAE,yBADD;AAET,gGAFS;;AAAA,CAAD,CAK4B,GAAzB,yBAAyB,CAAzB;;AAsSb,IAAY,eAAZ;;AAAA,WAAY,eAAZ,EAA2B;AACzB;AACA;AACA;AACA;AACD,CALD,EAAY,eAAe,KAAf,eAAe,MAA3B,E;;;;;;;;;;;;;;;;;;;AC7TyC;AACc;AACmB;AAE1E,MAAM,MAAM,GAAW,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,sFAAyB,EAAE,CAAC,CAAC;IAM/D,6BAA6B,SAA7B,6BAA6B;CAAI;AAAjC,6BAA6B;IAJzC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,6BAA6B,CAAI;AAAJ;;;;;;;;;;;;;ACV1C;AAAe,+EAAgB,iBAAiB,GAAG,mBAAmB,sBAAsB,GAAG,6CAA6C,mZAAmZ,E;;;;;;;;;;;ACA/hB,eAAe,KAAoD,oBAAoB,SAA+G,CAAC,kBAAkB,aAAa,wJAAwJ,EAAE,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,iCAAiC,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,OAAO,IAAI,GAAG,IAAI,GAAG,IAAI,UAAU,mMAAmM,mBAAmB,gBAAgB,yDAAyD,IAAI,kBAAkB,6DAA6D,+CAA+C,mBAAmB,mCAAmC,8GAA8G,mCAAmC,eAAe,yCAAyC,eAAe,OAAO,yCAAyC,kDAAkD,eAAe,mBAAmB,aAAa,OAAO,kBAAkB,sBAAsB,mBAAmB,MAAM,eAAe,kDAAkD,KAAK,aAAa,WAAW,4BAA4B,iBAAiB,yBAAyB,8BAA8B,0CAA0C,KAAK,8BAA8B,YAAY,8CAA8C,GAAG,iBAAiB,cAAc,0CAA0C,kBAAkB,2BAA2B,oBAAoB,qBAAqB,iCAAiC,0BAA0B,wCAAwC,uCAAuC,iBAAiB,MAAM,6CAA6C,0HAA0H,mBAAmB,mBAAmB,aAAa,mBAAmB,cAAc,oLAAoL,qBAAqB,SAAS,sBAAsB,gCAAgC,wBAAwB,WAAW,4CAA4C,yBAAyB,4BAA4B,0BAA0B,0BAA0B,sBAAsB,oCAAoC,mBAAmB,sCAAsC,sBAAsB,yBAAyB,yBAAyB,kDAAkD,wDAAwD,sBAAsB,iBAAiB,uFAAuF,0DAA0D,UAAU,gCAAgC,gCAAgC,yDAAyD,0BAA0B,oCAAoC,+BAA+B,+BAA+B,oCAAoC,6BAA6B,qBAAqB,0BAA0B,sBAAsB,iDAAiD,yKAAyK,iBAAiB,4BAA4B,0EAA0E,sBAAsB,wBAAwB,qBAAqB,8BAA8B,mBAAmB,sBAAsB,qBAAqB,aAAa,YAAY,2BAA2B,WAAW,gDAAgD,sCAAsC,sCAAsC,qBAAqB,qBAAqB,WAAW,uDAAuD,mBAAmB,0BAA0B,wBAAwB,sBAAsB,4BAA4B,2CAA2C,sHAAsH,2CAA2C,eAAe,2BAA2B,+BAA+B,qBAAqB,2BAA2B,IAAI,kZAAkZ,kCAAkC,kCAAkC,GAAG,wBAAwB,sDAAsD,wBAAwB,kFAAkF,cAAc,6GAA6G,0BAA0B,wBAAwB,sBAAsB,kBAAkB,wBAAwB,qBAAqB,+BAA+B,qBAAqB,oBAAoB,yBAAyB,qBAAqB,gCAAgC,qBAAqB,8CAA8C,0BAA0B,6BAA6B,uBAAuB,6BAA6B,GAAG,iBAAiB,qHAAqH,oBAAoB,6BAA6B,0BAA0B,kCAAkC,2CAA2C,gBAAgB,wBAAwB,GAAG,G;;;;;;;;;;;;;;;;;;;;;ACA5xM;AACpB;AAEC;AAC4B;IAM3D,YAAY,SAAZ,YAAY;IAGvB,YAAoB,IAAgB,EAC1B,oBAA0C;QADhC,SAAI,GAAJ,IAAI,CAAY;QAC1B,yBAAoB,GAApB,oBAAoB,CAAsB;QAH7C,cAAS,GAAG,gDAAgD,CAAC;IAGZ,CAAC;IAEzD,MAAM,CAAC,KAAsB,EAAE,WAAmB;QAChD,MAAM,WAAW,GAAG;YAClB,OAAO,EAAE,IAAI,gEAAW,CAAC;gBACvB,eAAe,EAAE,SAAS,GAAG,WAAW;gBACxC,cAAc,EAAE,kBAAkB;aACnC,CAAC;SACH,CAAC;QACF,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpC,MAAM,IAAI,GAAG;YACX,OAAO,EAAE,KAAK;SACf;QAED,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAQ,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,WAAW,CAAC;aAC9D,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,CAAC;IAC3D,CAAC;CAEF;;YAhCQ,+DAAU;YAIV,mFAAoB;;AAMhB,YAAY;IAHxB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,YAAY,CAsBxB;AAtBwB;AAwBlB,MAAM,KAAK;IAMhB,YAAY,KAAa,EAAE,UAAmB,EAAE,EAAW,EAAE,WAAqB;QAChF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACjC,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;AC9C0C;AACZ;AACqC;AAEpE,4CAAY,CAAC,2DAAiB,CAAC,CAAC;IAKnB,eAAe,SAAf,eAAe;IAE1B,gBAAgB,CAAC;IAEjB,yBAAyB,CAAC,YAAyB;QACjD,MAAM,QAAQ,GAAG,kCAAK,CAAC,kCAAK,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;QACrD,MAAM,eAAe,GAAG,kCAAK,CAAC,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;QACjE,OAAO,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAChD,CAAC;IAED,wBAAwB,CAAC,YAAkB;QACzC,MAAM,QAAQ,GAAG,kCAAK,CAAC,kCAAK,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;QACrD,MAAM,eAAe,GAAG,kCAAK,CAAC,kCAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;QACxE,OAAO,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAChD,CAAC;CAEF;;AAhBY,eAAe;IAH3B,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,eAAe,CAgB3B;AAhB2B;;;;;;;;;;;;;;;;;;;;;;;;ACTmC;AACpB;AAEC;AAC4B;IAM3D,gBAAgB,SAAhB,gBAAgB;IAK3B,YAAoB,IAAgB,EAC1B,oBAA0C;QADhC,SAAI,GAAJ,IAAI,CAAY;QAC1B,yBAAoB,GAApB,oBAAoB,CAAsB;QAJ7C,eAAU,GAAG,iDAAiD,CAAC;QAC/D,mBAAc,GAAG,gEAAgE,CAAC;IAGjC,CAAC;IAEzD,OAAO,CAAC,SAAoB,EAAE,WAAmB;QAC/C,MAAM,WAAW,GAAG;YAClB,OAAO,EAAE,IAAI,gEAAW,CAAC;gBACvB,eAAe,EAAE,SAAS,GAAG,WAAW;gBACxC,cAAc,EAAE,0BAA0B;gBAC1C,4BAA4B,EAAE,WAAW;gBACzC,wBAAwB,EAAE,KAAK;aAChC,CAAC;YACF,OAAO,EAAE,MAAe;YACxB,YAAY,EAAE,MAAe;SAC9B,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,SAAS,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,CAAC;IACtI,CAAC;IAED,WAAW,CAAC,SAAoB,EAAE,WAAmB,EAAE,WAAmB,EAAE,OAAgB;QAC1F,MAAM,WAAW,GAAG;YAClB,OAAO,EAAE,IAAI,gEAAW,CAAC;gBACvB,eAAe,EAAE,SAAS,GAAG,WAAW;gBACxC,cAAc,EAAE,kBAAkB;aACnC,CAAC;SACH,CAAC;QAEF,MAAM,IAAI,GAAG;YACX,SAAS,EAAE,OAAO;YAClB,eAAe,EAAE;gBACf;oBACE,aAAa,EAAE,EAAE;oBACjB,iBAAiB,EAAE;wBACjB,UAAU,EAAE,SAAS,CAAC,IAAI;wBAC1B,aAAa,EAAE,WAAW;qBAC3B;iBACF;aACF;SACF;QAED,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,CAAC;IACxH,CAAC;CAEF;;YAxDQ,+DAAU;YAIV,mFAAoB;;AAMhB,gBAAgB;IAH5B,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,gBAAgB,CA8C5B;AA9C4B;AAgDtB,MAAM,SAAS;IAOpB,YAAY,IAAY,EAAE,QAAqB,EAAE,YAAkC,EAAE,UAAgC;QAFrH,kBAAa,GAAY,KAAK,CAAC;QAG7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;IAC1C,CAAC;CACF;AAEM,MAAM,oBAAoB;IAK/B,YAAY,SAAoB,EAAE,KAAa,EAAE,QAAgB;QAC/D,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;CACF;AAEM,MAAM,eAAe;IAQ1B,YAAY,EAAU,EAAE,SAAsB,EAAE,OAAoB,EAAE,qBAA6C,EAAE,IAAY;QAC/H,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC;IAC1F,CAAC;CACF;;;;;;;;;;;;;ACzGD;AAAe,2KAA4G,yBAAyB,GAAG,0BAA0B,IAAI,qBAAqB,oCAAoC,+DAA+D,aAAa,2DAA2D,gCAAgC,E;;;;;;;;;;;;ACArZ;AAAe,6GAA8C,+HAA+H,E;;;;;;;;;;;;;;;;;;;;;;;ACAnJ;AACM;AAEoC;AACT;AACrB;AACE;AACc;IAexD,sBAAsB,SAAtB,sBAAsB;CAAI;AAA1B,sBAAsB;IAZlC,8DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,sFAAyB;YACzB,gFAAiB;SAClB;QACD,OAAO,EAAE;YACP,4DAAY;YACZ,+FAA6B;YAC7B,kEAAmB;YACnB,oEAAS;SACV;KACF,CAAC;GACW,sBAAsB,CAAI;AAAJ","file":"images-processing-images-processing-module.773c6f7838e20136ac11.js","sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_customParseFormat=e()}(this,(function(){\"use strict\";var t={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},e=/(\\[[^[]*\\])|([-:/.()\\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\\d\\d/,r=/\\d\\d?/,i=/\\d*[^\\s\\d-_:/()]+/,o={},s=function(t){return(t=+t)+(t>68?1900:2e3)};var a=function(t){return function(e){this[t]=+e}},f=[/[+-]\\d\\d:?(\\d\\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if(\"Z\"===t)return 0;var e=t.match(/([+-]|\\d\\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:\"+\"===e[0]?-n:n}(t)}],u=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},h=function(t,e){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?\"pm\":\"PM\");return n},d={A:[i,function(t){this.afternoon=h(t,!1)}],a:[i,function(t){this.afternoon=h(t,!0)}],S:[/\\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\\d{3}/,function(t){this.milliseconds=+t}],s:[r,a(\"seconds\")],ss:[r,a(\"seconds\")],m:[r,a(\"minutes\")],mm:[r,a(\"minutes\")],H:[r,a(\"hours\")],h:[r,a(\"hours\")],HH:[r,a(\"hours\")],hh:[r,a(\"hours\")],D:[r,a(\"day\")],DD:[n,a(\"day\")],Do:[i,function(t){var e=o.ordinal,n=t.match(/\\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\\[|\\]/g,\"\")===t&&(this.day=r)}],M:[r,a(\"month\")],MM:[n,a(\"month\")],MMM:[i,function(t){var e=u(\"months\"),n=(u(\"monthsShort\")||e.map((function(t){return t.substr(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(t){var e=u(\"months\").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\\d+/,a(\"year\")],YY:[n,function(t){this.year=s(t)}],YYYY:[/\\d{4}/,a(\"year\")],Z:f,ZZ:f};function c(n){var r,i;r=n,i=o&&o.formats;for(var s=(n=r.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,r){var o=r&&r.toUpperCase();return n||i[r]||t[r]||i[o].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),a=s.length,f=0;f<a;f+=1){var u=s[f],h=d[u],c=h&&h[0],l=h&&h[1];s[f]=l?{regex:c,parser:l}:u.replace(/^\\[|\\]$/g,\"\")}return function(t){for(var e={},n=0,r=0;n<a;n+=1){var i=s[n];if(\"string\"==typeof i)r+=i.length;else{var o=i.regex,f=i.parser,u=t.substr(r),h=o.exec(u)[0];f.call(e,h),t=t.replace(h,\"\")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(s=t.parseTwoDigitYear);var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,s=t.args;this.$u=r;var a=s[1];if(\"string\"==typeof a){var f=!0===s[2],u=!0===s[3],h=f||u,d=s[2];u&&(d=s[2]),o=this.$locale(),!f&&d&&(o=n.Ls[d]),this.$d=function(t,e,n){try{if([\"x\",\"X\"].indexOf(e)>-1)return new Date((\"X\"===e?1e3:1)*t);var r=c(e)(t),i=r.year,o=r.month,s=r.day,a=r.hours,f=r.minutes,u=r.seconds,h=r.milliseconds,d=r.zone,l=new Date,m=s||(i||o?1:l.getDate()),M=i||l.getFullYear(),Y=0;i&&!o||(Y=o>0?o-1:l.getMonth());var p=a||0,v=f||0,D=u||0,g=h||0;return d?new Date(Date.UTC(M,Y,m,p,v,D,g+60*d.offset*1e3)):n?new Date(Date.UTC(M,Y,m,p,v,D,g)):new Date(M,Y,m,p,v,D,g)}catch(t){return new Date(\"\")}}(e,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),h&&e!=this.format(a)&&(this.$d=new Date(\"\")),o={}}else if(a instanceof Array)for(var l=a.length,m=1;m<=l;m+=1){s[1]=a[m-1];var M=n.apply(this,s);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}m===l&&(this.$d=new Date(\"\"))}else i.call(this,t)}}}));","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { LoginService } from '../login/login.service';\nimport { DateUtilService } from '../shared/date-util.service';\nimport { User, UserService } from '../user/user.service';\n\n@Component({\n  selector: 'ipfgp-user-info',\n  templateUrl: './user-info.component.html',\n  styleUrls: ['./user-info.component.scss']\n})\nexport class UserInfoComponent implements OnInit {\n\n  currentUser$: Observable<User> | null = null;\n  error!: Object;\n\n  constructor(private router: Router, \n    private userService: UserService, \n    private loginService: LoginService,\n    private dateUtilService: DateUtilService) { }\n\n  ngOnInit(): void {\n    this.currentUser$ = this.userService.getCurrentUser()\n      .pipe(\n        catchError((err) => {\n          this.loginService.logOut();\n          this.userService.logOut();\n          this.error = err;\n          // this.router.navigate(['/login']);\n          return throwError(err);\n        })\n      );\n  }\n\n  getDaysDiffFromToday(comparedDate: Date): number {\n    return this.dateUtilService.getDaysDiffFromTodayDate(comparedDate);\n  }\n\n}\n","export default \"<ipfgp-user-info></ipfgp-user-info>\\n<div *ngIf=\\\"parameters$ | async as parameters; else loadingOrError\\\">\\n  <div class=\\\"my-width mx-auto mb-2 p-3\\\">\\n    <h3>Parameters\\n      <button (click)=\\\"changeParamsFormShow()\\\" class=\\\"btn btn-primary m-2\\\">\\n        {{ paramsFormShow ? 'Hide' : 'Show' }}\\n      </button>\\n    </h3>\\n    <form [formGroup]=\\\"paramsForm\\\" *ngIf=\\\"paramsFormShow\\\">\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"timeDiffGroup\\\" class=\\\"col-sm col-form-label\\\">Time diff for groups (in sec)</label>\\n        <div class=\\\"col-sm\\\">\\n          <input class=\\\"form-control\\\" id=\\\"timeDiffGroup\\\" type=\\\"text\\\" formControlName=\\\"timeDiffGroup\\\" />\\n        </div>\\n        <div class=\\\"card-text text-danger\\\" *ngIf=\\\"paramsForm.get(['timeDiffGroup']).errors\\\">\\n          Time diff for groups (in sec) must be between 60 and 86400.\\n        </div>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"resizeWidth\\\" class=\\\"col-sm col-form-label\\\">Resize width (px)</label>\\n        <div class=\\\"col-sm\\\">\\n          <input class=\\\"form-control\\\" id=\\\"resizeWidth\\\" type=\\\"text\\\" formControlName=\\\"resizeWidth\\\" />\\n        </div>\\n        <div class=\\\"card-text text-danger\\\" *ngIf=\\\"paramsForm.get(['resizeWidth']).errors\\\">\\n          Resize width (px) must be between 1 and 10000.\\n        </div>\\n      </div>\\n      <div class=\\\"form-group row\\\">\\n        <label for=\\\"resizeHeight\\\" class=\\\"col-sm col-form-label\\\">Resize height (px)</label>\\n        <div class=\\\"col-sm\\\">\\n          <input class=\\\"form-control\\\" id=\\\"resizeHeight\\\" type=\\\"text\\\" formControlName=\\\"resizeHeight\\\" />\\n        </div>\\n        <div class=\\\"card-text text-danger\\\" *ngIf=\\\"paramsForm.get(['resizeHeight']).errors\\\">\\n          Resize height (px) must be between 1 and 10000.\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n\\n  <div class=\\\"card p-3 mb-2 bg-light text-dark my-width mx-auto\\\" *ngIf=\\\"paramsForm.status != 'VALID'\\\">\\n    <div class=\\\"card-text text-danger\\\">\\n      Parameters not valid\\n    </div>\\n  </div>\\n\\n  <div class=\\\"card p-3 mb-2 bg-light text-dark my-width mx-auto\\\">\\n    <form [formGroup]=\\\"inputFilesForm\\\" *ngIf=\\\"paramsForm.status == 'VALID'\\\">\\n      <div class=\\\"form-group my-width mx-auto mb-2 p-3\\\">\\n        <label for=\\\"inputFiles\\\">Select images for processing</label>\\n        <input class=\\\"form-control\\\" id=\\\"inputFiles\\\" #file type=\\\"file\\\" accept=\\\"image/*\\\"\\n          (change)=\\\"processFiles(file.files)\\\" multiple />\\n        <small class=\\\"form-text text-muted\\\">\\n          <div>Accepted file types: .jpg</div>\\n          <div>Accepted file name formats (examples):</div>\\n          <div>20210924_133734.jpg</div>\\n          <div>IMG_20210924_133734_1.jpg</div>\\n          <div>WP_20210924_13_37_34_Pro.jpg</div>\\n        </small>\\n      </div>\\n    </form>\\n  </div>\\n\\n  <div class=\\\"card p-3 mb-2 bg-light text-dark my-width mx-auto\\\" *ngIf=\\\"filesCount\\\">\\n    <div class=\\\"card-body\\\">\\n      <p class=\\\"card-text text-danger\\\" *ngIf=\\\"mediaItems.length != filesCount\\\">Resizing in progress\\n        ({{ mediaItems.length }} of {{ filesCount }})</p>\\n      <p class=\\\"card-text text-primary\\\" *ngIf=\\\"mediaItems.length == filesCount\\\">Finished: {{ mediaItems.length }} files\\n        resized to {{ resizeWidth }}x{{ resizeHeight }}px.</p>\\n      <div *ngIf=\\\"filesLoaded\\\">\\n        <button class=\\\"btn btn-primary mb-2\\\" (click)=\\\"createGroups()\\\">\\n          Create groups\\n        </button>\\n        <p class=\\\"card-text\\\" *ngIf=\\\"getMediaItemsCount()\\\">\\n          {{ getMediaItemsCount() }} images in {{ mediaItemsGroups.length }} groups\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"getMediaItemsCount()\\\">\\n    <h3 class=\\\"my-width mx-auto mb-2 p-3\\\">Images in groups</h3>\\n\\n    <div class=\\\"my-width-groups mx-auto mb-2 p-3\\\">\\n      <div *ngFor=\\\"let group of mediaItemsGroups\\\" class=\\\"card border p-3 mb-2\\\">\\n        <!-- group header -->\\n        <div class=\\\"card-header mb-2 p-1 text-center\\\">\\n          <div class=\\\"small\\\">(click to edit name)</div>\\n          <span class=\\\"font-weight-bold\\\" #groupName contenteditable\\n            (blur)=\\\"updateGroupName(group, groupName.textContent)\\\">{{ group.name }}</span>\\n          <button (click)=\\\"removeGroup(group)\\\" class=\\\"btn btn-primary m-2\\\" title=\\\"Remove group\\\">X</button>\\n        </div>\\n\\n        <!-- group images -->\\n\\n        <!-- bootstrap carousel -->\\n        <div class=\\\"carousel-div\\\">\\n          <ngb-carousel [interval]=\\\"false\\\">\\n            <ng-template ngbSlide *ngFor=\\\"let item of group.mediaItemsForGrouping\\\">\\n              <div class=\\\"carousel-caption\\\">\\n                <button (click)=\\\"removeItemFromGroup(group, item)\\\" class=\\\"btn btn-primary mb-2\\\" title=\\\"Remove\\\">X</button>\\n              </div>\\n              <div class=\\\"picsum-img-wrapper\\\">\\n                <img [src]=\\\"item.mediaItem.contentUrl\\\" class=\\\"carousel-img d-block w-100\\\">\\n              </div>\\n            </ng-template>\\n          </ngb-carousel>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n\\n  <div *ngIf=\\\"mediaItemsGroups.length\\\">\\n    <h3 class=\\\"my-width mx-auto mb-2 p-3\\\">Groups overview</h3>\\n\\n    <table class=\\\"table table-bordered my-width mx-auto p-3 mb-2\\\">\\n      <th>Group</th>\\n      <th>Files</th>\\n      <th>Uploaded</th>\\n      <tr *ngFor=\\\"let group of mediaItemsGroups\\\">\\n        <td>{{ group.name }}</td>\\n        <td>{{ group.mediaItemsForGrouping.length }}</td>\\n        <td>{{ group.getUploadedCount() }}</td>\\n      </tr>\\n      <tr>\\n        <td>Total</td>\\n        <td>{{ getMediaItemsCount() }}</td>\\n        <td>{{ getUploadedCount() }}</td>\\n      </tr>\\n    </table>\\n\\n    <h3 class=\\\"my-width mx-auto mb-2 p-3\\\">Upload to Google Photos</h3>\\n\\n    <div class=\\\"card p-3 mb-2 bg-light text-dark my-width mx-auto\\\">\\n      <div class=\\\"card-body\\\">\\n        <p class=\\\"card-text\\\">\\n          <button (click)=\\\"createAlbumsAndMedia()\\\" class=\\\"btn btn-primary mb-2\\\" [disabled]=\\\"!groupsCreated\\\">Create\\n            albums\\n            and upload files to Google Photos</button>\\n        </p>\\n        <p class=\\\"card-text text-danger\\\" *ngIf=\\\"uploadingStatus == 'InProgress'\\\">UPLOADING IN PROGRESS</p>\\n        <p class=\\\"card-text text-primary\\\" *ngIf=\\\"uploadingStatus == 'Success'\\\">UPLOADING SUCCESSFULLY FINISHED</p>\\n        <p class=\\\"card-text text-danger\\\" *ngIf=\\\"uploadingStatus == 'Fail'\\\">UPLOADING FAILED (see the Groups Overview\\n          table\\n          for details)</p>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<ng-template #loadingOrError>\\n  <ng-container *ngIf=\\\"error; else loading\\\">\\n    <div class=\\\"alert alert-danger\\\">{{ error }}</div>\\n  </ng-container>\\n  <ng-template #loading>\\n    <div>Loading ...</div>\\n  </ng-template>\\n</ng-template>\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { NgxPicaErrorInterface, NgxPicaResizeOptionsInterface, NgxPicaService } from '@digitalascetic/ngx-pica';\nimport { AlbumService } from './album.service';\nimport { MediaItem, MediaItemForGrouping, MediaItemService, MediaItemsGroup } from './media-item.service';\nimport * as dayjs from 'dayjs';\nimport * as customParseFormat from 'dayjs/plugin/customParseFormat';\nimport { GoogleLoginService } from '../google-login/google-login.service';\nimport { Observable, throwError } from 'rxjs';\nimport { Parameters, ParametersService } from '../parameters/parameters.service';\nimport { catchError, map } from 'rxjs/operators';\nimport { DateUtilService } from '../shared/date-util.service';\n\nexport const timeDiffGroupDefault = 7200;\nexport const resizeWidthDefault = 1000;\nexport const resizeHeightDefault = 1000;\ndayjs.extend(customParseFormat);\n\n@Component({\n  selector: 'ipfgp-images-processing',\n  templateUrl: './images-processing.component.html',\n  styleUrls: ['./images-processing.component.scss']\n})\nexport class ImagesProcessingComponent implements OnInit {\n\n  mediaItems: MediaItem[] = [];\n  mediaItemsForGrouping: MediaItemForGrouping[] = [];\n  mediaItemsGroups: MediaItemsGroup[] = [];\n  timeDiffGroup: number = 0;\n  uploadToken: string = '';\n  inputFilesForm = this.fb.group({\n    inputFiles: ''\n  });\n  filesLoaded: boolean = false;\n  filesCount: number = 0;\n  groupsCreated: boolean = false;\n  uploadingStatus: UploadingStatus = UploadingStatus.None;\n\n  picaOptions: NgxPicaResizeOptionsInterface = {\n    exifOptions: {\n      forceExifOrientation: false\n    },\n    aspectRatio: {\n      keepAspectRatio: true\n    }\n  };\n  paramsForm = this.fb.group({\n    timeDiffGroup: [null, [\n      Validators.required,\n      Validators.min(60),\n      Validators.max(86400)\n    ]],\n    resizeWidth: [null, [\n      Validators.required,\n      Validators.min(1),\n      Validators.max(10000)\n    ]],\n    resizeHeight: [null, [\n      Validators.required,\n      Validators.min(1),\n      Validators.max(10000)\n    ]]\n  });\n  resizeWidth: number = 0;\n  resizeHeight: number = 0;\n  paramsFormShow: boolean = true;\n  parameters$!: Observable<Parameters>;\n  error!: Object;\n\n  constructor(private ngxPicaService: NgxPicaService,\n    private fb: FormBuilder,\n    private mediaItemService: MediaItemService,\n    private albumService: AlbumService,\n    private googleLoginService: GoogleLoginService,\n    private parametersService: ParametersService,\n    private dateUtilService: DateUtilService\n    ) { }\n\n  ngOnInit(): void {\n    this.parameters$ = this.parametersService.getParameters().pipe(\n      map(parameters => {\n        this.paramsForm.patchValue({\n          timeDiffGroup: parameters.timeDiffGroup,\n          resizeWidth: parameters.resizeWidth,\n          resizeHeight: parameters.resizeHeight\n        });\n        return parameters;\n      }),\n      catchError(err => {\n        this.error = err;\n        return throwError(err);\n      })\n    )\n  }\n\n  processFiles(files: any): void {\n    if (files.length > 0) {\n      this.filesCount = files.length;\n      this.emptyArrays();\n      this.getParamsResize();\n      this.getMediaItems(files);\n    }\n  }\n\n  private emptyArrays(): void {\n    this.mediaItems = [];\n    this.mediaItemsForGrouping = [];\n    this.mediaItemsGroups = [];\n    this.filesLoaded = false;\n    this.groupsCreated = false;\n    this.uploadingStatus = UploadingStatus.None;\n    this.paramsFormShow = false;\n  }\n\n  getMediaItems(fileList: File[]): void {\n    this.ngxPicaService.resizeImages(fileList, this.resizeWidth, this.resizeHeight, this.picaOptions).subscribe((file) => {\n      this.readFileBytes(file);\n    }, (err: NgxPicaErrorInterface) => {\n      throw err.err;\n    }, () => {\n      this.filesLoaded = true;\n    });\n  }\n\n  readFileBytes(file: File): void {\n    let readerBytes: FileReader = new FileReader();\n    readerBytes.addEventListener('load', (event: any) => {\n      this.readFileUrl(readerBytes, file);\n    }, false);\n    readerBytes.readAsArrayBuffer(file);\n  }\n\n  readFileUrl(readerBytes: FileReader, file: File): void {\n    let readerUrl: FileReader = new FileReader();\n    readerUrl.addEventListener('load', (event: any) => {\n      this.createMediaItem(file, readerBytes, readerUrl);\n    }, false);\n    readerUrl.readAsDataURL(file);\n  }\n\n  createMediaItem(file: File, readerBytes: FileReader, readerUrl: FileReader): void {\n    this.mediaItems.push(new MediaItem(file.name, dayjs(file.name.replace(/D/g, ''), 'YYYYMMDD HHmmss'), readerBytes.result!, readerUrl.result!));\n  }\n\n  createGroups(): void {\n    this.emptyArraysExceptMediaItems();\n    this.createMediaItemsForGrouping();\n    this.calculateTimeDiff();\n    this.getParamsTimeDiffs();\n    this.identifyGroups();\n    this.groupsCreated = true;\n  }\n\n  createMediaItemsForGrouping(): void {\n    this.mediaItems.sort((a, b) => {\n      let dateTimeA = a.dateTime;\n      let dateTimeB = b.dateTime;\n      if (dateTimeA < dateTimeB) {\n        return -1;\n      }\n      if (dateTimeA > dateTimeB) {\n        return 1;\n      }\n\n      // datetimes must be equal\n      return 0;\n    });\n    this.mediaItems.forEach((item, i) => {\n      this.mediaItemsForGrouping.push(new MediaItemForGrouping(item, i + 1, 0));\n    });\n  }\n\n  calculateTimeDiff(): void {\n    this.mediaItemsForGrouping.forEach((item) => {\n      if (item.seqNo === 1) {\n        item.timeDiff = 0;\n      } else {\n        const prevItem = this.mediaItemsForGrouping.find((s) => s.seqNo === (item.seqNo - 1));\n        item.timeDiff = item.mediaItem.dateTime.diff(prevItem!.mediaItem.dateTime, 'second');\n      }\n    });\n  }\n\n  identifyGroups(): void {\n    let group: MediaItemsGroup;\n    let id = 1;\n    this.mediaItemsForGrouping.forEach((item, i) => {\n      let groupName: string = item.mediaItem.dateTime.format('YYYY-MM-DD') + ' (' + item.mediaItem.dateTime.format('dd H') + ':00) text';\n      groupName = this.translateWeekdayNamesToCzech(groupName);\n      // if the first file in the sequence, create a new group\n      if (i === 0) {\n        group = new MediaItemsGroup(id, item.mediaItem.dateTime, item.mediaItem.dateTime, [item], groupName);\n        id++;\n        // if not the first file\n      } else {\n        // if a new group is identified, add current group and create a new group\n        if (item.timeDiff > this.timeDiffGroup) {\n          this.mediaItemsGroups.push(group);\n          group = new MediaItemsGroup(id, item.mediaItem.dateTime, item.mediaItem.dateTime, [item], groupName);\n          id++;\n          // if existing group, add the file to the group and update end time\n        } else {\n          group.mediaItemsForGrouping.push(item);\n          group.endTime = item.mediaItem.dateTime;\n        }\n      }\n      // if the last file in the sequence, add current group\n      if ((i + 1) === this.mediaItemsForGrouping.length) {\n        this.mediaItemsGroups.push(group);\n      }\n    });\n  }\n\n  getMediaItemsCount(): number {\n    let uniqueItemsCount = 0;\n    this.mediaItemsGroups.forEach((group) => {\n      uniqueItemsCount += group.mediaItemsForGrouping.length;\n    })\n    return uniqueItemsCount;\n  }\n\n  getDaysDiffFromToday(groupDate: dayjs.Dayjs): number {\n    return this.dateUtilService.getDaysDiffFromTodayDayjs(groupDate);\n  }\n\n  updateGroupName(gr: MediaItemsGroup, newName: string) {\n    this.mediaItemsGroups.forEach((group) => {\n      if (group.id === gr.id) {\n        group.name = newName;\n      }\n    });\n  }\n\n  private translateWeekdayNamesToCzech(name: string): string {\n    return name.replace('Mo', 'po/Mo')\n      .replace('Tu', 'út/Tu')\n      .replace('We', 'st/We')\n      .replace('Th', 'čt/Th')\n      .replace('Fr', 'pá/Fr')\n      .replace('Sa', 'so/Sa')\n      .replace('Su', 'ne/Su');\n  }\n\n  // async/await + for...of loop to ensure sequential API calls\n  // not working with arrays' forEach() method\n  async createAlbumsAndMedia(): Promise<void> {\n    this.uploadingStatus = UploadingStatus.InProgress;\n    for (const group of this.mediaItemsGroups) {\n      if (group.albumId == null) {\n        await this.albumService.albums(group, this.googleLoginService.getAccessToken()!).toPromise().then(async (album) => {\n          group.albumId = album.id;\n          await this.createMedia(group);\n        })\n          .catch(() => this.uploadingStatus = UploadingStatus.Fail);\n      } else {\n        await this.createMedia(group);\n      }\n      // when API call error, then break the loop\n      if (this.uploadingStatus != UploadingStatus.InProgress) break;\n    }\n    this.uploadingStatus = (this.getMediaItemsCount() == this.getUploadedCount()) ? UploadingStatus.Success : UploadingStatus.Fail;\n  }\n\n  async createMedia(group: MediaItemsGroup): Promise<void> {\n    for (const item of group.mediaItemsForGrouping) {\n      if (!item.mediaItem.uploadSuccess) {\n        await this.mediaItemService.uploads(item.mediaItem, this.googleLoginService.getAccessToken()!).toPromise().then(async (uploadToken: string) => {\n          await this.mediaItemService.batchCreate(item.mediaItem, uploadToken, this.googleLoginService.getAccessToken()!, group.albumId).toPromise().then(() => item.mediaItem.uploadSuccess = true)\n            .catch(() => this.uploadingStatus = UploadingStatus.Fail);\n        })\n          .catch(() => this.uploadingStatus = UploadingStatus.Fail);\n      }\n    }\n  }\n\n  removeGroup(gr: MediaItemsGroup): void {\n    this.mediaItemsGroups.splice(this.mediaItemsGroups.indexOf(gr), 1);\n  }\n\n  getUploadedCount(): number {\n    let uploadedCount = 0;\n    this.mediaItemsGroups.forEach((group) => {\n      uploadedCount += group.getUploadedCount();\n    })\n    return uploadedCount;\n  }\n\n  getParamsTimeDiffs(): void {\n    this.timeDiffGroup = this.paramsForm.get(['timeDiffGroup'])!.value;\n  }\n\n  getParamsResize(): void {\n    this.resizeWidth = this.paramsForm.get(['resizeWidth'])!.value;\n    this.resizeHeight = this.paramsForm.get(['resizeHeight'])!.value;\n  }\n\n  private emptyArraysExceptMediaItems(): void {\n    this.mediaItemsForGrouping = [];\n    this.mediaItemsGroups = [];\n    this.groupsCreated = false;\n    this.uploadingStatus = UploadingStatus.None;\n  }\n\n  removeItemFromGroup(gr: MediaItemsGroup, item: MediaItemForGrouping): void {\n    this.mediaItemsGroups.forEach((group) => {\n      if (group.id === gr.id) {\n        group.mediaItemsForGrouping.splice(group.mediaItemsForGrouping.indexOf(item), 1);\n      }\n    });\n  }\n\n  changeParamsFormShow() {\n    this.paramsFormShow ? this.paramsFormShow = false : this.paramsFormShow = true;\n  }\n\n}\n\nexport enum UploadingStatus {\n  None = 'None',\n  InProgress = 'InProgress',\n  Success = 'Success',\n  Fail = 'Fail'\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ImagesProcessingComponent } from './images-processing.component';\n\nconst routes: Routes = [{ path: '', component: ImagesProcessingComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ImagesProcessingRoutingModule { }\n","export default \".carousel-div {\\n  margin: auto;\\n}\\n\\n.carousel-img {\\n  max-height: 500px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2ltYWdlcy1wcm9jZXNzaW5nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFFO0VBQ0UsWUFBQTtBQUNKOztBQUVFO0VBQ0UsaUJBQUE7QUFDSiIsImZpbGUiOiJpbWFnZXMtcHJvY2Vzc2luZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiAgLmNhcm91c2VsLWRpdiB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICB9XG4gIFxuICAuY2Fyb3VzZWwtaW1nIHtcbiAgICBtYXgtaGVpZ2h0OiA1MDBweDsgIFxuICB9Il19 */\";","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},D=\"en\",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if(\"string\"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { ErrorResponseService } from '../shared/error-response.service';\nimport { MediaItemsGroup } from './media-item.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlbumService {\n  public albumsUrl = 'https://photoslibrary.googleapis.com/v1/albums';\n\n  constructor(private http: HttpClient,\n    private errorResponseService: ErrorResponseService) { }\n\n  albums(group: MediaItemsGroup, accessToken: string): Observable<Album> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Authorization': 'Bearer ' + accessToken,\n        'Content-type': 'application/json'\n      })\n    };\n    const album = new Album(group.name);\n    const body = {\n      \"album\": album\n    }\n\n    return this.http.post<Album>(this.albumsUrl, body, httpOptions)\n    .pipe(catchError(this.errorResponseService.handleError));\n  }\n\n}\n\nexport class Album {\n  title: string;\n  productUrl?: string;\n  id?: string;\n  isWriteable?: boolean;\n\n  constructor(title: string, productUrl?: string, id?: string, isWriteable?: boolean) {\n    this.title = title;\n    this.productUrl = productUrl;\n    this.id = id;\n    this.isWriteable = isWriteable;\n  }\n}","import { Injectable } from '@angular/core';\nimport * as dayjs from 'dayjs';\nimport * as customParseFormat from 'dayjs/plugin/customParseFormat';\n\ndayjs.extend(customParseFormat);\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DateUtilService {\n\n  constructor() { }\n\n  getDaysDiffFromTodayDayjs(comparedDate: dayjs.Dayjs): number {\n    const todayDay = dayjs(dayjs().format('YYYY-MM-DD'));\n    const comparedDateDay = dayjs(comparedDate.format('YYYY-MM-DD'));\n    return comparedDateDay.diff(todayDay, 'days');\n  }\n\n  getDaysDiffFromTodayDate(comparedDate: Date): number {\n    const todayDay = dayjs(dayjs().format('YYYY-MM-DD'));\n    const comparedDateDay = dayjs(dayjs(comparedDate).format('YYYY-MM-DD'));\n    return comparedDateDay.diff(todayDay, 'days');\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { ErrorResponseService } from '../shared/error-response.service';\nimport * as dayjs from 'dayjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MediaItemService {\n\n  public uploadsUrl = 'https://photoslibrary.googleapis.com/v1/uploads';\n  public batchCreateUrl = 'https://photoslibrary.googleapis.com/v1/mediaItems:batchCreate';\n\n  constructor(private http: HttpClient,\n    private errorResponseService: ErrorResponseService) { }\n\n  uploads(mediaItem: MediaItem, accessToken: string): Observable<string> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Authorization': 'Bearer ' + accessToken,\n        'Content-type': 'application/octet-stream',\n        'X-Goog-Upload-Content-Type': 'mime-type',\n        'X-Goog-Upload-Protocol': 'raw'\n      }),\n      observe: \"body\" as const,\n      responseType: \"text\" as const\n    };\n    return this.http.post(this.uploadsUrl, mediaItem.contentBytes, httpOptions).pipe(catchError(this.errorResponseService.handleError));\n  }\n\n  batchCreate(mediaItem: MediaItem, uploadToken: string, accessToken: string, albumId?: string): Observable<any> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Authorization': 'Bearer ' + accessToken,\n        'Content-type': 'application/json'\n      })\n    };\n\n    const body = {\n      \"albumId\": albumId,\n      \"newMediaItems\": [\n        {\n          \"description\": \"\",\n          \"simpleMediaItem\": {\n            \"fileName\": mediaItem.name,\n            \"uploadToken\": uploadToken\n          }\n        }\n      ]\n    }\n\n    return this.http.post(this.batchCreateUrl, body, httpOptions).pipe(catchError(this.errorResponseService.handleError));\n  }\n\n}\n\nexport class MediaItem {\n  name: string;\n  dateTime: dayjs.Dayjs;\n  contentBytes: string | ArrayBuffer;\n  contentUrl: string | ArrayBuffer;\n  uploadSuccess: boolean = false;\n\n  constructor(name: string, dateTime: dayjs.Dayjs, contentBytes: string | ArrayBuffer, contentUrl: string | ArrayBuffer) { \n    this.name = name;\n    this.dateTime = dateTime;\n    this.contentBytes = contentBytes;\n    this.contentUrl = contentUrl;\n    this.uploadSuccess = this.uploadSuccess;\n  }\n}\n\nexport class MediaItemForGrouping {\n  mediaItem: MediaItem;\n  seqNo: number;\n  timeDiff: number;\n\n  constructor(mediaItem: MediaItem, seqNo: number, timeDiff: number) {\n    this.mediaItem = mediaItem;\n    this.seqNo = seqNo;\n    this.timeDiff = timeDiff;\n  }\n}\n\nexport class MediaItemsGroup {\n  id: number;\n  startTime: dayjs.Dayjs;\n  endTime: dayjs.Dayjs;\n  mediaItemsForGrouping: MediaItemForGrouping[];\n  name: string;\n  albumId?: string;\n  \n  constructor(id: number, startTime: dayjs.Dayjs, endTime: dayjs.Dayjs, mediaItemsForGrouping: MediaItemForGrouping[], name: string) {\n    this.id = id;\n    this.startTime = startTime;\n    this.endTime = endTime;\n    this.mediaItemsForGrouping = mediaItemsForGrouping;\n    this.name = name;\n  }\n\n  getUploadedCount() : number {\n    return this.mediaItemsForGrouping.filter((item) => item.mediaItem.uploadSuccess).length;\n  }\n}","export default \"<div class=\\\"alert alert-success\\\" *ngIf=\\\"currentUser$ | async as currentUser\\\">\\n    <div>Logged in as {{ currentUser.givenName }} {{ currentUser.familyName }} ({{ currentUser.email }}).</div>\\n    <div>Previous login {{ currentUser.previousLoginDateTime | date:'yyyy-MM-dd HH:mm' }}\\n        ({{ getDaysDiffFromToday(currentUser.previousLoginDateTime) }} days ago).\\n    </div>\\n</div>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLWluZm8uY29tcG9uZW50LnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ImagesProcessingRoutingModule } from './images-processing-routing.module';\nimport { ImagesProcessingComponent } from './images-processing.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { UserInfoComponent } from '../user-info/user-info.component';\n\n\n@NgModule({\n  declarations: [\n    ImagesProcessingComponent,\n    UserInfoComponent\n  ],\n  imports: [\n    CommonModule,\n    ImagesProcessingRoutingModule,\n    ReactiveFormsModule,\n    NgbModule\n  ]\n})\nexport class ImagesProcessingModule { }\n"],"sourceRoot":"webpack:///"}